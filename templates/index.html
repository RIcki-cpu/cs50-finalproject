{% extends "layout.html" %}

{% block title %}
    Home Page
{% endblock %}

{% block main %}
    <div class="container">
        <h1>How do you feel today</h1>

         <!-- Main Input For Receiving LLM response -->

        <form id ="myForm" action="/" method="post">
            <!--USER INPUT AREA-->
            <div class="row form-floating">
              <!--label for="user_input" class="form-label">Introduce answer:</label-->
              <textarea class="form-control" id = "user_input" placeholder = "I feel lost and i need help"name="user_input" style="height: 100px"></textarea>
              <label for="user_input">Your answer</label>
            </div>           
            <!--ORIGINALITY RANGE 1-10 -->
            <div class="row">
                <div class="col">
                    <label for="temperature" class="form-label">Originality</label>
                </div>
                <div class="col">            
                    <input type="range" class="form-range" name="temperature" min="0" max="10" id="temperature">
                </div>
            </div>
            <!--SELECT PERSONALITY-->
            <div class="row">
                <div class="col">         
                    <label for="personality">Personality</label>
                </div>
                <div class="col">
                    <select class="form-select" name="personality" id="personality" aria-label="Default select example">
                    <option selected>Select the character</option>
                    <option value="1">Psychologist(Default)</option>
                    <option value="2">Buhdist Monk</option>
                    <option value="3">Steven Hawking</option>
                </div>
            </div>
            </select>
            <button type="submit" class="btn btn-primary btn-block btn-large">Send Message</button>

        </form>
    </div>
    <div class="spinner-border" id ="loader" style = "display: none;"role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div class="container text-center">
      <div class="row align-items-start">
        <div class="col">
          <h3>AdviceGPT:</h3>
        </div>
        <div class="col">
          {{ response_dic["answer"] }} 
        </div>
      </div>
      <div class="row align-items-start">
        <div class="col">
          <h3>Positivism:</h3>
        </div>
        <div class="col">
          <strong>Range:</strong> {{ response_dic["wellbeing_level"] }}   {{ response_dic["emoji"] | safe }}
        </div>
      </div>
      <div class="row align-items-start">
        <div class="col">
          <h3>Emotions:</h3>
        </div>
        <div class="col">
            {% for emotion in response_dic["emotions"] %}
                <span class="badge text-bg-info">{{ emotion }}</span>
            {% endfor %}
        </div>
      </div>
      <div class="row align-items-start">
        <div class="col">
          <h3>Used Tokens:</h3>
        </div>
        <div class="col">
            <strong>{{ response_dic["tokens"] }}</strong>
        </div>
      </div>

    </div>
      
{% endblock %}
<!--input type="text" name="user_input" placeholder="How do you feel Today ?" required="required" /-->